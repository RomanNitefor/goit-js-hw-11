{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function listPictures(gallery, pictures, lightbox) {\n  gallery.innerHTML = '';\n  const result = pictures.hits.map(picture => {\n    return `<li class=\"gallery-item\">\n                    <a class=\"gallery-link\" href=\"${picture.largeImageURL}\">\n                        <img class=\"gallery-image\" src=\"${picture.webformatURL}\" alt=\"${picture.tags}\">\n                    </a>\n                    <ul class=\"info\">\n                        <li class=\"info-list\">Likes: <span>${picture.likes}</span></li>\n                        <li class=\"info-list\">Views: <span>${picture.views}</span></li>\n                        <li class=\"info-list\">Comments: <span>${picture.comments}</span></li>\n                        <li class=\"info-list\">Downloads: <span>${picture.downloads}</span></li>\n                    </ul>\n                </li>`;\n  });\n  gallery.innerHTML = result.join('');\n  lightbox.refresh();\n}\n","const API_KEY = '43829547-150c89c88df8cf7a92100352d';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const searchPictures = query => {\n  const searchParams = new URLSearchParams({\n    q: query,\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { listPictures } from './js/render-functions';\nimport { searchPictures } from './js/pixabay-api';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('input[name=\"text\"]');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchTerm = input.value.trim();\n  if (searchTerm) {\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n    searchPictures(searchTerm)\n      .then(pictures => {\n        if (pictures.hits.length === 0) {\n          iziToast.info({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'center',\n          });\n        } else {\n          listPictures(gallery, pictures, lightbox);\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        iziToast.error({\n          message: 'Sorry, there was an error processing your request.',\n          position: 'center',\n        });\n      })\n      .finally(() => {\n        loader.style.display = 'none';\n        event.target.reset();\n      });\n  } else {\n    event.target.reset();\n    iziToast.error({\n      message: 'Please enter the data.',\n      position: 'center',\n    });\n    gallery.innerHTML = '';\n  }\n});\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 200,\n});\n"],"names":["listPictures","gallery","pictures","lightbox","result","picture","API_KEY","BASE_URL","searchPictures","query","searchParams","response","form","input","loader","event","searchTerm","iziToast","error","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAaC,EAASC,EAAUC,EAAU,CACxDF,EAAQ,UAAY,GACpB,MAAMG,EAASF,EAAS,KAAK,IAAIG,GACxB;AAAA,oDACyCA,EAAQ,aAAa;AAAA,0DACfA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,6DAGvCA,EAAQ,KAAK;AAAA,6DACbA,EAAQ,KAAK;AAAA,gEACVA,EAAQ,QAAQ;AAAA,iEACfA,EAAQ,SAAS;AAAA;AAAA,sBAG/E,EACDJ,EAAQ,UAAYG,EAAO,KAAK,EAAE,EAClCD,EAAS,QAAO,CAClB,CCjBA,MAAMG,EAAU,qCACVC,EAAW,2BAEJC,EAAiBC,GAAS,CACrC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,EAAGD,EACH,IAAKH,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,ECVMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,oBAAoB,EACnDZ,EAAU,SAAS,cAAc,UAAU,EAC3Ca,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAaH,EAAM,MAAM,KAAI,EAC/BG,GACFF,EAAO,MAAM,QAAU,QACvBb,EAAQ,UAAY,GACpBO,EAAeQ,CAAU,EACtB,KAAKd,GAAY,CACZA,EAAS,KAAK,SAAW,EAC3Be,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,QACtB,CAAW,EAEDjB,EAAaC,EAASC,EAAUC,CAAQ,CAElD,CAAO,EACA,MAAMe,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBD,EAAS,MAAM,CACb,QAAS,qDACT,SAAU,QACpB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbH,EAAO,MAAM,QAAU,OACvBC,EAAM,OAAO,OACrB,CAAO,IAEHA,EAAM,OAAO,QACbE,EAAS,MAAM,CACb,QAAS,yBACT,SAAU,QAChB,CAAK,EACDhB,EAAQ,UAAY,GAExB,CAAC,EAED,MAAME,EAAW,IAAIgB,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC"}